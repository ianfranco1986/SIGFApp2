<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <h:form id="Selector">
        <p:panel style="width: 100%;margin-bottom: 20px;" >
            <h3 style="text-align: center;">Periodo</h3>
            <p:panelGrid columns="5" style="width: 100%; margin-top: 20px;"  columnClasses="ui-grid-col-2,ui-grid-col-10"  layout="grid" styleClass="ui-panelgrid-blank" >
                <h:outputLabel for="mes" value="Mes:" />
                <p:selectOneMenu id="mes" value="#{facturaController.mes}" style="width:125px">
                    <f:selectItem itemLabel="Enero" itemValue="1" />
                    <f:selectItem itemLabel="Febrero" itemValue="2" />
                    <f:selectItem itemLabel="Marzo" itemValue="3" />
                    <f:selectItem itemLabel="Abril" itemValue="4" />
                    <f:selectItem itemLabel="Mayo" itemValue="5" />
                    <f:selectItem itemLabel="Junio" itemValue="6" />
                    <f:selectItem itemLabel="Julio" itemValue="7" />
                    <f:selectItem itemLabel="Agosto" itemValue="8" />
                    <f:selectItem itemLabel="Septiembre" itemValue="9" />
                    <f:selectItem itemLabel="Octubre" itemValue="10" />
                    <f:selectItem itemLabel="Noviembre" itemValue="11" />
                    <f:selectItem itemLabel="Diciembre" itemValue="12" />

                </p:selectOneMenu>

                <h:outputLabel for="anio" value="Año:" />
                <p:inputText id="anio" value="#{facturaController.anio}" size="5" />

                <p:commandButton value="Buscar" actionListener="#{facturaController.load}" styleClass="btn btn-primary" update="FeriadoLegalListForm, :growl" onstart="PF('Loading').show()" onsuccess="PF('Loading').hide()" oncomplete="PF('bui').hide()">

                </p:commandButton>

            </p:panelGrid>
        </p:panel>
    </h:form>
    <p:panel style="padding-bottom: 20px;" >
        <h3 style="text-align: center;">Feriado Legal</h3>
        <h:form id="FeriadoLegalCreateForm">

            <h:panelGroup id="display" rendered="#{feriadoLegalController.selected != null}">
                <p:panelGrid columns="2" columnClasses="ui-g-12 ui-md-2,ui-g-12 ui-md-4,ui-g-12 ui-md-2,ui-g-12 ui-md-4" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">

                    <p:outputLabel value="#{myBundle.CreateFeriadoLegalLabel_feriadoLegalIdTrabajador}" for="feriadoLegalIdTrabajador" />
                    <p:selectOneMenu id="feriadoLegalIdTrabajador" value="#{feriadoLegalController.selected.feriadoLegalIdTrabajador}" required="true" requiredMessage="#{myBundle.CreateFeriadoLegalRequiredMessage_feriadoLegalIdTrabajador}" converter="trabajadorConverter">
                        <f:selectItem itemLabel="#{myBundle.SelectOneMessage}"/>
                        <f:selectItems value="#{trabajadorController.items}"
                                       var="feriadoLegalIdTrabajadorItem"
                                       itemValue="#{feriadoLegalIdTrabajadorItem}"
                                       itemLabel="#{feriadoLegalIdTrabajadorItem.trabajadorCodigo}"
                                       />
                    </p:selectOneMenu>

                    <p:outputLabel value="Desde" for="feriadoLegalFechaDesde" />
                    <p:datePicker id="feriadoLegalFechaDesde" pattern="dd/MM/yyyy" value="#{feriadoLegalController.selected.feriadoLegalFechaDesde}" title="#{myBundle.CreateFeriadoLegalTitle_feriadoLegalFechaDesde}" required="true" requiredMessage="#{myBundle.CreateFeriadoLegalRequiredMessage_feriadoLegalFechaDesde}" />

                    <p:outputLabel value="Hasta" for="feriadoLegalFechaHasta" />
                    <p:calendar id="feriadoLegalFechaHasta" pattern="dd/MM/yyyy" value="#{feriadoLegalController.selected.feriadoLegalFechaHasta}" title="#{myBundle.CreateFeriadoLegalTitle_feriadoLegalFechaHasta}" required="true" requiredMessage="#{myBundle.CreateFeriadoLegalRequiredMessage_feriadoLegalFechaHasta}" />

                    <p:outputLabel value="N° Días Hábiles" for="feriadoLegalDiasHabiles" />
                    <p:inputText id="feriadoLegalDiasHabiles" value="#{feriadoLegalController.selected.feriadoLegalDiasHabiles}" title="#{myBundle.CreateFeriadoLegalTitle_feriadoLegalDiasHabiles}"/>

                    <p:outputLabel value="N° Días Progresivos" for="feriadoLegalVacacionesProgresivas" />
                    <p:inputText id="feriadoLegalVacacionesProgresivas" value="#{feriadoLegalController.selected.feriadoLegalVacacionesProgresivas}" title="#{myBundle.CreateFeriadoLegalTitle_feriadoLegalVacacionesProgresivas}"/>

                    <p:outputLabel value="N° Días Inhábiles" for="feriadoLegalDomingosInhabiles" />
                    <p:inputText id="feriadoLegalDomingosInhabiles" value="#{feriadoLegalController.selected.feriadoLegalDomingosInhabiles}" title="#{myBundle.CreateFeriadoLegalTitle_feriadoLegalDomingosInhabiles}"/>

                    <p:outputLabel value="Feriado Fraccionado" for="feriadoLegalFeriadoFraccionado" />
                    <p:inputText id="feriadoLegalFeriadoFraccionado" value="#{feriadoLegalController.selected.feriadoLegalFeriadoFraccionado}" title="#{myBundle.CreateFeriadoLegalTitle_feriadoLegalFeriadoFraccionado}"/>

                    <p:outputLabel value="Saldo Pendiente" for="feriadoLegalSaldoPendiente" />
                    <p:inputText id="feriadoLegalSaldoPendiente" value="#{feriadoLegalController.selected.feriadoLegalSaldoPendiente}" title="#{myBundle.CreateFeriadoLegalTitle_feriadoLegalSaldoPendiente}"/>

                    <p:outputLabel value="Monto Feriado" for="feriadoLegalValorFeriado" />
                    <p:inputText id="feriadoLegalValorFeriado" value="#{feriadoLegalController.selected.feriadoLegalValorFeriado}" title="#{myBundle.CreateFeriadoLegalTitle_feriadoLegalValorFeriado}" required="true" requiredMessage="#{myBundle.CreateFeriadoLegalRequiredMessage_feriadoLegalValorFeriado}"/>

                </p:panelGrid>
                <p:commandButton actionListener="#{feriadoLegalController.saveNew}" value="#{myBundle.Save}" update="display,:FeriadoLegalListForm:datalist,:growl" oncomplete="handleSubmit(xhr,status,args,PF('FeriadoLegalCreateDialog'));">
                    <p:confirm header="#{myBundle.ConfirmationHeader}" message="#{myBundle.ConfirmCreateMessage}" icon="ui-icon-alert"/>
                </p:commandButton>

                <p:commandButton value="#{myBundle.Cancel}" oncomplete="PF('FeriadoLegalCreateDialog').hide()" update="display" process="@this" immediate="true" resetValues="true"/>
            </h:panelGroup>

        </h:form>
    </p:panel>
    <h:form id="FeriadoLegalListForm">

        <p:dataTable id="datalist"
                     value="#{feriadoLegalController.items}"
                     lazy="false"
                     rowKey="#{item.feriadoLegalId}"
                     var="item"
                     paginator="true"
                     rows="100"
                     rowsPerPageTemplate="100, 200, 500"
                     selectionMode="single"
                     selection="#{feriadoLegalController.selected}"
                     filteredValue="#{feriadoLegalController.filteredItems}">
            <!--
                     To enable Lazy Loading, please copy/replace the following lines above,
                     and be sure to replace the word HASH with the # symbol:
            
                     value="HASH{feriadoLegalController.lazyItems}"
                     lazy="true"
                     rowKey="HASH{item.feriadoLegalId}"  <<< Remove this line
            -->

            <p:column sortBy="#{item.feriadoLegalId}" filterBy="#{item.feriadoLegalId}">
                <f:facet name="header">
                    <h:outputText value="#{myBundle.ListFeriadoLegalTitle_feriadoLegalId}"/>
                </f:facet>
                <h:outputText value="#{item.feriadoLegalId}"/>
            </p:column>


            <p:column sortBy="#{item.feriadoLegalFechaDesde}" filterBy="#{item.feriadoLegalFechaDesde}">
                <f:facet name="header">
                    <h:outputText value="#{myBundle.ListFeriadoLegalTitle_feriadoLegalFechaDesde}"/>
                </f:facet>
                <h:outputText value="#{item.feriadoLegalFechaDesde}">
                    <f:convertDateTime pattern="MM/dd/yyyy" />
                </h:outputText>
            </p:column>


            <p:column sortBy="#{item.feriadoLegalFechaHasta}" filterBy="#{item.feriadoLegalFechaHasta}">
                <f:facet name="header">
                    <h:outputText value="#{myBundle.ListFeriadoLegalTitle_feriadoLegalFechaHasta}"/>
                </f:facet>
                <h:outputText value="#{item.feriadoLegalFechaHasta}">
                    <f:convertDateTime pattern="MM/dd/yyyy" />
                </h:outputText>
            </p:column>


            <p:column sortBy="#{item.feriadoLegalDiasHabiles}" filterBy="#{item.feriadoLegalDiasHabiles}">
                <f:facet name="header">
                    <h:outputText value="#{myBundle.ListFeriadoLegalTitle_feriadoLegalDiasHabiles}"/>
                </f:facet>
                <h:outputText value="#{item.feriadoLegalDiasHabiles}"/>
            </p:column>


            <p:column sortBy="#{item.feriadoLegalVacacionesProgresivas}" filterBy="#{item.feriadoLegalVacacionesProgresivas}">
                <f:facet name="header">
                    <h:outputText value="#{myBundle.ListFeriadoLegalTitle_feriadoLegalVacacionesProgresivas}"/>
                </f:facet>
                <h:outputText value="#{item.feriadoLegalVacacionesProgresivas}"/>
            </p:column>


            <p:column sortBy="#{item.feriadoLegalDomingosInhabiles}" filterBy="#{item.feriadoLegalDomingosInhabiles}">
                <f:facet name="header">
                    <h:outputText value="#{myBundle.ListFeriadoLegalTitle_feriadoLegalDomingosInhabiles}"/>
                </f:facet>
                <h:outputText value="#{item.feriadoLegalDomingosInhabiles}"/>
            </p:column>

            <ui:remove>
                <p:column sortBy="#{item.feriadoLegalFeriadoFraccionado}" filterBy="#{item.feriadoLegalFeriadoFraccionado}">
                    <f:facet name="header">
                        <h:outputText value="#{myBundle.ListFeriadoLegalTitle_feriadoLegalFeriadoFraccionado}"/>
                    </f:facet>
                    <h:outputText value="#{item.feriadoLegalFeriadoFraccionado}"/>
                </p:column>
            </ui:remove>
            <ui:remove>
                <p:column sortBy="#{item.feriadoLegalSaldoPendiente}" filterBy="#{item.feriadoLegalSaldoPendiente}">
                    <f:facet name="header">
                        <h:outputText value="#{myBundle.ListFeriadoLegalTitle_feriadoLegalSaldoPendiente}"/>
                    </f:facet>
                    <h:outputText value="#{item.feriadoLegalSaldoPendiente}"/>
                </p:column>
            </ui:remove>
            <ui:remove>
                <p:column sortBy="#{item.feriadoLegalValorFeriado}" filterBy="#{item.feriadoLegalValorFeriado}">
                    <f:facet name="header">
                        <h:outputText value="#{myBundle.ListFeriadoLegalTitle_feriadoLegalValorFeriado}"/>
                    </f:facet>
                    <h:outputText value="#{item.feriadoLegalValorFeriado}"/>
                </p:column>
            </ui:remove>
            <ui:remove>
                <p:column sortBy="#{item.feriadoLegalIdTrabajador.trabajadorId}" filterBy="#{item.feriadoLegalIdTrabajador.trabajadorId}">
                    <f:facet name="header">
                        <h:outputText value="#{myBundle.ListFeriadoLegalTitle_feriadoLegalIdTrabajador}"/>
                    </f:facet>
                    <h:outputText value="#{item.feriadoLegalIdTrabajador.trabajadorId}"/>
                </p:column>
            </ui:remove>

        </p:dataTable>

        <ui:include src="/WEB-INF/include/confirmation.xhtml"/>
    </h:form>




</ui:composition>