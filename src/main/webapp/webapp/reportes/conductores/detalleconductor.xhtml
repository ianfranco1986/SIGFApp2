<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="title">Recaudación de Combustible</ui:define>

    <ui:define name="content">

        <h:form id="RegistroMinutoListForm">

            <p:panel>
                <p:spacer/>
                <h3>Detalle Imposiciones x Conductor </h3>

                <div class="ui-fluid">
                    <div class="p-field">
                        <label for="month">Mes/Año</label>
                        <p:datePicker id="month" view="month" value="#{reportControllerDetalleConductor.date}"
                                      pattern="MM/yyyy"
                                      yearNavigator="true" yearRange="2022:2030" locale="es"/>
                    </div>
                    <div class="p-field">
                        <label for="multiple">Conductor(es)</label>
                        <p:selectCheckboxMenu id="multiple" value="#{reportControllerDetalleConductor.selectedTrabajador}"
                                              label="" 
                                              multiple="true" 
                                              converter="omnifaces.SelectItemsConverter" 
                                              filter="true" 
                                              filterMatchMode="contains" 
                                              panelStyle="width: 100rem" scrollHeight="250"
                                              immediate="true" >
                            <f:selectItems value="#{reportControllerDetalleConductor.itemsTrabajador}" 
                                           var="trabajador"
                                           itemValue="#{trabajador}"
                                           itemLabel="#{trabajador.trabajadorApellidoPaterno} #{trabajador.trabajadorNombres} (#{trabajador.trabajadorCodigo}) "/>
                        </p:selectCheckboxMenu>
                    </div>
                    <div class="p-field">
                        <label for="button"></label>
                        <h:commandLink id="button" value="Generar Reporte" 
                                       actionListener="#{reportController.downloadFile(reportControllerDetalleConductor.informe, reportControllerDetalleConductor.map)}" target="blank"  style="padding: .5em 1em;" styleClass="ui-button">
                        </h:commandLink>
                    </div>
                </div>

            </p:panel>
            
        </h:form>
    </ui:define>
</ui:composition>